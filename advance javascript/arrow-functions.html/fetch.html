<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fetch()</title>
</head>

<body>
    <form id="myform">
        Title : <input type="text" id="title"> <br><br>
        Body : <input type="text" id="body"><br><br>
        user Id : <input type="text" id="userId"><br><br>
        <input type="submit" id="saveForm">
    </form>
    <script>


        // fetch syntax 

        // fetch(fileName/url);--------->promise return karta hai. 
        // fetch(fileName/URL).then()---------------->promise return karta hai. 

        // fetch(filenametext).then(function(response){
        //     return response.data
        // }).then(function (result){
        //     console.log(result)
        // }).catch(function(error){
        //     console.log(error);  
        // });

        // text() Method data 
        // text file get karni he 
        // fetch('readme.txt').then((response) => {
        //     return response.text()
        // }).then((data) => {
        //     console.log(data);
        // });


        // isi code ko chota kar k likhna 
        // fetch(readme.txt)
        // .then(response1 => response1.text())
        // .then(data => document.write(data));

        // json() method data 
        // fetch('https://jsonplaceholder.typicode.com/photos')
        //     .then(response => response.json())
        //     .then(data => console.log(data))
        //     .catch((error) => console.log("can't fetch data."))

        // document par data print karana 
        // fetch('https://jsonplaceholder.typicode.com/users')
        //     .then(userData => userData.json())
        //     .then((collectData) => {
        //         for (let key in collectData) {
        //             console.log(collectData[key]);
        //             let data = `${collectData[key].name}   -    ${collectData[key].email}  -  ${collectData[key].address.city}`
        //             document.write(data)
        //         }
        //     }).catch((error) => {
        //         console.log("can't fetch data.")
        //     });

        //  data insert "POST"
        //  data update "PUT"
        //  data Delete "DELETE"
        //  data read "GET"


        //  data insert "POST"



        // form base data 
        const save = document.getElementById('saveForm');
        save.addEventListener("click", function (e) {
            e.preventDefault();

            // let obj = {
            //     title: document.getElementById('title').value,
            //     body: document.getElementById('body').value,
            //     userId: document.getElementById('userId').value
            // }


            // fetch('https://jsonplaceholder.typicode.com/users', {
            //     method: "POST",
            //     body: JSON.stringify(obj),
            //     headers : {
            //         'Content-Type': 'application/x-www-form-urlencoded'
            //     },
            // })
            //     .then(userData1 => userData1.json())
            //     .then((collectData2) => document.write(collectData2))
            //     .catch((error) => {
            //         console.log("can't fetch data.")
            // });
            fetch('https://jsonplaceholder.typicode.com/users', {
                method: "POST",
                body: new FormData(document.getElementById('myform')),
                headers : {
                    'Content-Type': 'application/x-www-form-urlencoded'
                },
            })
                .then(userData1 => userData1.json())
                .then((collectData2) => document.write(collectData2))
                .catch((error) => {
                    console.log("can't fetch data.")
            });
        })











    </script>
</body>

</html>